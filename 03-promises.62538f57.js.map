{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,UAElCC,MAAQC,EACRC,KAAOC,EACPC,OAASC,GAAmBR,EAAKS,SA0BnC,SAASC,EAAcC,EAAUR,GAC/B,OAAO,IAAIS,SAAQ,CAACC,EAAKC,KACvBC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAI,C,SAACF,E,MAAUR,IAEfW,EAAI,C,SAACH,E,MAAUR,GAAO,GAEvBA,EAAM,G,CAIb,SAASe,EAAUP,EAAUR,GAC3BL,EAAAqB,OAAOC,QAAQ,qBAAqBT,QAAeR,M,CAGrD,SAASkB,EAAQV,EAAUR,GACzBL,EAAAqB,OAAOG,QAAQ,oBAAoBX,QAAeR,M,CA1CpDH,EAAKuB,iBAAiB,UAItB,SAAuBC,GACrBA,EAAIC,iBAEJ,IAAIC,EAAQC,OAAOvB,EAAWwB,OAC9B,MAAMvB,EAAOsB,OAAOrB,EAAUsB,OACxBrB,EAASoB,OAAOnB,EAAcoB,OAEpC,IAAK,IAAIC,EAAI,EAAGA,GAAKtB,EAAQsB,GAAG,EAChCnB,EAAcmB,EAAGH,GAChBI,MAAK,EAACnB,SAAEA,EAAQR,MAAEA,MACjBe,EAAUP,EAAUR,EAAM,IAE3B4B,OAAM,EAACpB,SAAEA,EAAQR,MAAEA,MAClBkB,EAAQV,EAAUR,EAAM,IAG1BuB,GAASrB,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio'\n\nconst form = document.querySelector('.form')\nconst { \n  delay : firstDelay,\n  step : delayStep,\n  amount : amountPromise, } = form.elements;\n\nform.addEventListener('submit', onMakePromise)\n// console.dir(form)\n// console.log(form.elements)\n\nfunction onMakePromise(evt) {\n  evt.preventDefault();\n\n  let delay = Number(firstDelay.value)\n  const step = Number(delayStep.value)\n  const amount = Number(amountPromise.value)\n\n  for (let i = 1; i <= amount; i+=1) {\n  createPromise(i, delay)\n  .then(({ position, delay }) => {\n    onSucsess(position, delay)\n  })\n  .catch(({ position, delay }) => {\n    onError(position, delay)\n  });\n  \n  delay += step\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        res({position, delay})\n      } else {\n        rej({position, delay})\n      }\n    }, delay)\n  })\n}  \n\nfunction onSucsess(position, delay) {\n  Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError(position, delay) {\n  Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","delay","$47d4ff9957288465$var$firstDelay","step","$47d4ff9957288465$var$delayStep","amount","$47d4ff9957288465$var$amountPromise","elements","$47d4ff9957288465$var$createPromise","position","Promise","res","rej","setTimeout","Math","random","$47d4ff9957288465$var$onSucsess","Notify","success","$47d4ff9957288465$var$onError","failure","addEventListener","evt","preventDefault","delay1","Number","value","i","then","catch"],"version":3,"file":"03-promises.62538f57.js.map"}